<div md-dialog-title>
  <button md-icon-button md-dialog-close class="button-dialog-top-right">
    <md-icon>close</md-icon>
  </button>
  <h2>Reintegrate</h2>
  <h3>{{data.process.repr}}</h3>
</div>
<md-dialog-content [ngClass]="submitted ? 'overlay-grey': ''">
  <form [formGroup]="reintegrate_form">
    <div class="form-group">
      <table>
        <thead>
          <tr>
            <th scope="col" style="width:50%;"></th>
            <th scope="col" style="width:50%;"></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="manual-table-rj">Spacegroup Override</td>
            <td>
              <md-select [(ngModel)]="model.spacegroup"
                         formControlName="spacegroup">
                <md-option [value]="0">None</md-option>
                <md-option *ngFor="let sg of globals_service.sgs_in_order" [value]="sg">
                  {{globals_service.intl2std[sg]}}
                </md-option>
              </md-select>
            </td>
          </tr>
          <tr>
            <td class="manual-table-rj">Frame Range</td>
            <td>
              <md-input-container style="width:5em;">
                <input mdInput
                       style="text-align:center;"
                       placeholder=""
                       formControlName="start_frame"
                       [(ngModel)]="model.start_frame">
              </md-input-container>
              -
              <md-input-container style="width:5em;">
                <input mdInput
                       style="text-align:center;"
                       placeholder=""
                       formControlName="end_frame"
                       [(ngModel)]="model.end_frame">
              </md-input-container>
            </td>
          </tr>
          <!-- <tr>
            <td class="manual-table-rj">Sample Type</td>
            <td>
              <md-select [(ngModel)]="model.sample_type"
                         formControlName="sample_type">
                <md-option *ngFor="let sample_type of sample_types" [value]="sample_type.val">
                  {{sample_type.label}}
                </md-option>
              </md-select>
            </td>
          </tr> -->
          <tr>
            <td class="manual-table-rj">Spacegroup Decider</td>
            <td>
              <md-select [(ngModel)]="model.spacegroup_decider"
                         formControlName="spacegroup_decider">
                <md-option *ngFor="let spacegroup_decider of spacegroup_deciders" [value]="spacegroup_decider.val">
                  {{spacegroup_decider.label}}
                </md-option>
              </md-select>
            </td>
          </tr>
          <tr>
            <td class="manual-table-rj">Polishing Rounds</td>
            <td>
              <md-select [(ngModel)]="model.rounds_polishing"
                         formControlName="rounds_polishing">
                <md-option [value]=1>1</md-option>
                <md-option [value]=2>2</md-option>
                <md-option [value]=3>3</md-option>
                <md-option [value]=4>4</md-option>
                <md-option [value]=5>5</md-option>
              </md-select>
            </td>
          </tr>
          <!-- <tr [ngClass]="model.strategy_type == 'mosflm' ? 'hidden': ''">
            <td class="manual-table-rj">Best Complexity</td>
            <td>
              <md-select [(ngModel)]="model.best_complexity"
                         formControlName="best_complexity">
                <md-option *ngFor="let best_complex of best_complexity" [value]="best_complex">
                  {{best_complex}}
                </md-option>
              </md-select>
            </td>
          </tr>
          <tr [ngClass]="model.strategy_type == 'best' ? 'hidden': ''">
            <td class="manual-table-rj">Segments & Range</td>
            <td>
              <table>
                <tr>
                  <td>
                    <md-select [(ngModel)]="model.mosflm_seg"
                               formControlName="mosflm_seg">
                      <md-option *ngFor="let mosflm_seg of mosflm_segs" [value]="mosflm_seg">
                        {{mosflm_seg}}
                      </md-option>
                    </md-select>
                  </td>
                  <td>
                    <md-input-container class="example-full-width">
                      <input mdInput
                             placeholder=""
                             formControlName="mosflm_rot"
                             [(ngModel)]="model.mosflm_rot">
                    </md-input-container>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr [ngClass]="model.strategy_type == 'best' ? 'hidden': ''">
            <td class="manual-table-rj">Start-End</td>
            <td>
              <table>
                <tr>
                  <td>
                    <md-input-container class="example-full-width">
                      <input mdInput
                             placeholder=""
                             formControlName="mosflm_start"
                             [(ngModel)]="model.mosflm_start">
                      </md-input-container>
                  </td>
                  <td>
                    <md-input-container class="example-full-width">
                      <input mdInput
                             placeholder=""
                             formControlName="mosflm_end"
                             [(ngModel)]="model.mosflm_end">
                    </md-input-container>
                  </td>
                </tr>
              </table>
            </td>
          </tr> -->
        </tbody>
      </table>
    </div>
  </form>
</md-dialog-content>

<md-dialog-actions align="end">
  <md-progress-spinner *ngIf="submitted" mode="indeterminate" style="height:30px;width:30px;" color="primary"></md-progress-spinner>
  <button md-raised-button color="primary" (click)="submitReintegrate()">Execute</button>
</md-dialog-actions>
